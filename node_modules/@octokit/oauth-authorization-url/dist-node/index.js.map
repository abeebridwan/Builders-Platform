{"version":3,"file":"index.js","sources":["../dist-src/index.js"],"sourcesContent":["export function oauthAuthorizationUrl(options) {\n    const scopesNormalized = typeof options.scopes === \"string\"\n        ? options.scopes.split(/[,\\s]+/).filter(Boolean)\n        : Array.isArray(options.scopes)\n            ? options.scopes\n            : [];\n    const result = {\n        allowSignup: options.allowSignup === false ? false : true,\n        clientId: options.clientId,\n        login: options.login || null,\n        redirectUrl: options.redirectUrl || null,\n        scopes: scopesNormalized,\n        state: options.state || Math.random().toString(36).substr(2),\n        url: \"\",\n    };\n    const baseUrl = options.baseUrl || \"https://github.com\";\n    result.url = urlBuilderAuthorize(`${baseUrl}/login/oauth/authorize`, result);\n    return result;\n}\nfunction urlBuilderAuthorize(base, options) {\n    const map = {\n        allowSignup: \"allow_signup\",\n        clientId: \"client_id\",\n        login: \"login\",\n        redirectUrl: \"redirect_uri\",\n        scopes: \"scope\",\n        state: \"state\",\n    };\n    let url = base;\n    Object.entries(options)\n        .filter(([k, v]) => v !== null && k !== \"url\") // Filter out keys that are null and remove the url key\n        .filter(([, v]) => (Array.isArray(v) ? v.length !== 0 : true)) // Filter out empty Array\n        .map(([key]) => [map[key], `${options[key]}`]) // Map Array with the proper URL parameter names and change the value to a string using template strings\n        .forEach(([key, value], index) => {\n        // Finally, build the URL\n        url += index === 0 ? `?` : \"&\";\n        url += `${key}=${value}`;\n    });\n    return url;\n}\n"],"names":["oauthAuthorizationUrl","options","scopesNormalized","scopes","split","filter","Boolean","Array","isArray","result","allowSignup","clientId","login","redirectUrl","state","Math","random","toString","substr","url","baseUrl","urlBuilderAuthorize","base","map","Object","entries","k","v","length","key","forEach","value","index"],"mappings":";;;;AAAO,SAASA,qBAAT,CAA+BC,OAA/B,EAAwC;AAC3C,QAAMC,gBAAgB,GAAG,OAAOD,OAAO,CAACE,MAAf,KAA0B,QAA1B,GACnBF,OAAO,CAACE,MAAR,CAAeC,KAAf,CAAqB,QAArB,EAA+BC,MAA/B,CAAsCC,OAAtC,CADmB,GAEnBC,KAAK,CAACC,OAAN,CAAcP,OAAO,CAACE,MAAtB,IACIF,OAAO,CAACE,MADZ,GAEI,EAJV;AAKA,QAAMM,MAAM,GAAG;AACXC,IAAAA,WAAW,EAAET,OAAO,CAACS,WAAR,KAAwB,KAAxB,GAAgC,KAAhC,GAAwC,IAD1C;AAEXC,IAAAA,QAAQ,EAAEV,OAAO,CAACU,QAFP;AAGXC,IAAAA,KAAK,EAAEX,OAAO,CAACW,KAAR,IAAiB,IAHb;AAIXC,IAAAA,WAAW,EAAEZ,OAAO,CAACY,WAAR,IAAuB,IAJzB;AAKXV,IAAAA,MAAM,EAAED,gBALG;AAMXY,IAAAA,KAAK,EAAEb,OAAO,CAACa,KAAR,IAAiBC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,CANb;AAOXC,IAAAA,GAAG,EAAE;AAPM,GAAf;AASA,QAAMC,OAAO,GAAGnB,OAAO,CAACmB,OAAR,IAAmB,oBAAnC;AACAX,EAAAA,MAAM,CAACU,GAAP,GAAaE,mBAAmB,CAAE,GAAED,OAAQ,wBAAZ,EAAqCX,MAArC,CAAhC;AACA,SAAOA,MAAP;AACH;;AACD,SAASY,mBAAT,CAA6BC,IAA7B,EAAmCrB,OAAnC,EAA4C;AACxC,QAAMsB,GAAG,GAAG;AACRb,IAAAA,WAAW,EAAE,cADL;AAERC,IAAAA,QAAQ,EAAE,WAFF;AAGRC,IAAAA,KAAK,EAAE,OAHC;AAIRC,IAAAA,WAAW,EAAE,cAJL;AAKRV,IAAAA,MAAM,EAAE,OALA;AAMRW,IAAAA,KAAK,EAAE;AANC,GAAZ;AAQA,MAAIK,GAAG,GAAGG,IAAV;AACAE,EAAAA,MAAM,CAACC,OAAP,CAAexB,OAAf,EACKI,MADL,CACY,CAAC,CAACqB,CAAD,EAAIC,CAAJ,CAAD,KAAYA,CAAC,KAAK,IAAN,IAAcD,CAAC,KAAK,KAD5C;AAAA,GAEKrB,MAFL,CAEY,CAAC,GAAGsB,CAAH,CAAD,KAAYpB,KAAK,CAACC,OAAN,CAAcmB,CAAd,IAAmBA,CAAC,CAACC,MAAF,KAAa,CAAhC,GAAoC,IAF5D;AAAA,GAGKL,GAHL,CAGS,CAAC,CAACM,GAAD,CAAD,KAAW,CAACN,GAAG,CAACM,GAAD,CAAJ,EAAY,GAAE5B,OAAO,CAAC4B,GAAD,CAAM,EAA3B,CAHpB;AAAA,GAIKC,OAJL,CAIa,CAAC,CAACD,GAAD,EAAME,KAAN,CAAD,EAAeC,KAAf,KAAyB;AAClC;AACAb,IAAAA,GAAG,IAAIa,KAAK,KAAK,CAAV,GAAe,GAAf,GAAoB,GAA3B;AACAb,IAAAA,GAAG,IAAK,GAAEU,GAAI,IAAGE,KAAM,EAAvB;AACH,GARD;AASA,SAAOZ,GAAP;AACH;;;;"}